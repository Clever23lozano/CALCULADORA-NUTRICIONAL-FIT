<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pregunta del Objetivo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #1e3c72, #2a5298);
            color: #ffffff;
            text-align: center;
            padding: 20px;
        }

        h1, h2, h3 {
            color: #f2a365;
        }

        input[type="number"], input[type="radio"], button {
            margin: 10px 0;
        }

        input[type="number"] {
            width: 300px;
            height: 40px;
            font-size: 18px;
            padding: 5px;
            border: 2px solid #f2a365;
            border-radius: 5px;
            background-color: #ffffff;
            color: #333;
        }

        button {
            background-color: #f2a365;
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
        }

        button:hover {
            background-color: #d88a56;
        }

        .objetivo-container {
            background-color: #ffffff;
            color: #333;
            border: 2px solid #f2a365;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            text-align: left;
        }

        .objetivo-titulo {
            font-size: 22px;
            font-weight: bold;
            color: #f2a365;
        }

        .pregunta-titulo {
            font-size: 28px;
            font-weight: bold;
            color: #ffffff;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .resaltado {
            text-transform: uppercase;
            font-weight: bold;
            font-size: 20px;
            color: #f2a365;
        }

        #resultadoMantenimiento, #resultadoPerder, #resultadoGanar {
            margin-top: 10px;
            font-size: 18px;
        }

        @media (max-width: 600px) {
            input[type="number"] {
                width: 90%;
                font-size: 16px;
            }

            button {
                font-size: 16px;
                padding: 8px 16px;
            }

            .pregunta-titulo {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div>
        <h2>Gasto Calórico Total:</h2>
        <input type="number" id="gastoCalorico" name="gastoCalorico" placeholder="Ingrese su gasto calórico total">
        <button onclick="pegarContenidoCopiado()">Pegar contenido copiado</button> <!-- Botón para pegar contenido copiado -->
    </div>

    <div id="preguntaObjetivo">
        <h1 class="pregunta-titulo">¿CUÁL ES TU OBJETIVO?</h1>
        <p>Selecciona una de las siguientes opciones:</p>
        <div id="opcionesObjetivo">
            <div class="objetivo-container">
                <input type="radio" id="perderPeso" name="objetivo" value="perderPeso">
                <label for="perderPeso"><span class="objetivo-titulo">Perder peso:</span> Quiero perder peso para mejorar mi salud y apariencia física.</label><br>
            </div>
        
            <div class="objetivo-container">
                <input type="radio" id="mantenerPeso" name="objetivo" value="mantenerPeso">
                <label for="mantenerPeso"><span class="objetivo-titulo">Mantener peso:</span> Quiero mantener mi peso actual y llevar un estilo de vida saludable.</label><br>
            </div>
        
            <div class="objetivo-container">
                <input type="radio" id="ganarPeso" name="objetivo" value="ganarPeso">
                <label for="ganarPeso"><span class="objetivo-titulo">Ganar peso:</span> Quiero aumentar mi peso para ganar masa muscular o mejorar mi salud.</label><br>
            </div>
        </div>
        
        <button id="btnContinuar" onclick="continuar()">Continuar</button> <!-- Botón de continuar -->
    </div>

    <div id="explicacionMantenimiento" style="display: none;">
        <h3>Objetivo de Mantenimiento:</h3>
        <p>El objetivo de mantenimiento implica mantener un peso corporal estable. Esto se logra equilibrando tu ingesta calórica con tu gasto calórico diario.</p>
        <button id="btnCalcularMantenimiento" onclick="calcularMantenimiento()">Calcular</button> <!-- Botón de calcular -->
        <div id="resultadoMantenimiento"></div>
        <button onclick="retroceder()">Retroceder</button> <!-- Botón de retroceso -->
        <button onclick="copiarResultado()">Copiar resultado</button>
        <button id="btnContinuarMantenimiento" onclick="https://clever23lozano.github.io/CALCULADORA-NUTRICIONAL-FIT/preguntadeactividadcardiovascular.html" disabled>Continuar</button>
    </div>

    <div id="opcionesDeficitCalorico" style="display: none;">
        <h1 class="pregunta-titulo">¿CUÁNTO PESO DESEAS PERDER POR SEMANA?</h1>
        <div class="objetivo-container">
            <input type="radio" id="deficitLeve" name="deficitCalorico" value="300">
            <label for="deficitLeve"><span class="resaltado">PÉRDIDA DE PESO LEVE</span> (0.3% = 300g/semana)</label><br>
        </div>
        
        <div class="objetivo-container">
            <input type="radio" id="deficitConservador" name="deficitCalorico" value="500">
            <label for="deficitConservador"><span class="resaltado">PÉRDIDA DE PESO CONSERVADORA</span> (0.5% = 500g/semana)</label><br>
        </div>
        
        <div class="objetivo-container">
            <input type="radio" id="deficitModerado" name="deficitCalorico" value="750">
            <label for="deficitModerado"><span class="resaltado">PÉRDIDA DE PESO MODERADA</span> (0.75% = 750g/semana)</label><br>
        </div>
        
        <div class="objetivo-container">
            <input type="radio" id="deficitAgresivo" name="deficitCalorico" value="1000">
            <label for="deficitAgresivo"><span class="resaltado">PÉRDIDA DE PESO AGRESIVA</span> (1% = 1kg/semana)</label><br>
        </div>

        <button id="btnCalcularPerder" onclick="calcularPerder()">Calcular</button> <!-- Botón de calcular -->
        <div id="resultadoPerder"></div>
        <button onclick="retroceder()">Retroceder</button> <!-- Botón de retroceso -->
        <button onclick="copiarResultado()">Copiar resultado</button>
        <button id="btnContinuarPerder" onclick="https://clever23lozano.github.io/CALCULADORA-NUTRICIONAL-FIT/preguntadeactividadcardiovascular.html" disabled>Continuar</button>
    </div>

    <!-- Nueva sección para seleccionar el nivel de experiencia -->
    <div id="nivelExperiencia" style="display: none;">
        <h1 class="pregunta-titulo">¿CUÁL ES TU NIVEL DE EXPERIENCIA EN EL ENTRENAMIENTO?</h1>
        <div class="objetivo-container">
            <input type="radio" id="principiante" name="nivelExperiencia" value="principiante">
            <label for="principiante"><span class="objetivo-titulo">Principiante:</span> Ideal para aquellos que están comenzando su viaje en el entrenamiento.</label><br>
            <div id="opcionesPrincipiante" style="display: none;">
                <h2>¿CUÁNTOS KILOS QUIERES GANAR EN UN MES?</h2>
                <div class="objetivo-container">
                    <input type="radio" id="opcionAPrincipiante" name="opcionPrincipiante" value="opcionAPrincipiante">
                    <label for="opcionAPrincipiante"><span class="resaltado">OPCIÓN A:</span> Aumentarás aprox 1% de tu peso corporal por mes (equivalente a 1 kg/mes)</label><br>
                </div>
                <div class="objetivo-container">
                    <input type="radio" id="opcionBPrincipiante" name="opcionPrincipiante" value="opcionBPrincipiante">
                    <label for="opcionBPrincipiante"><span class="resaltado">OPCIÓN B:</span> Aumentarás aprox 1.5% de tu peso corporal por mes (equivalente a 1.5 kg/mes)</label><br>
                </div>
            </div>
        </div>

        <div class="objetivo-container">
            <input type="radio" id="intermedio" name="nivelExperiencia" value="intermedio">
            <label for="intermedio"><span class="objetivo-titulo">Intermedio:</span> Para aquellos con cierta experiencia en el entrenamiento y que desean mantener un ritmo constante de ganancia muscular.</label><br>
            <div id="opcionesIntermedio" style="display: none;">
                <h2>¿CUÁNTOS KILOS QUIERES GANAR EN UN MES?</h2>
                <div class="objetivo-container">
                    <input type="radio" id="opcionAIntermedio" name="opcionIntermedio" value="opcionAIntermedio">
                    <label for="opcionAIntermedio"><span class="resaltado">OPCIÓN A:</span> Aumentarás aprox 0.5% de tu peso corporal por mes (equivalente a 500 g/mes)</label><br>
                </div>
                <div class="objetivo-container">
                    <input type="radio" id="opcionBIntermedio" name="opcionIntermedio" value="opcionBIntermedio">
                    <label for="opcionBIntermedio"><span class="resaltado">OPCIÓN B:</span> Aumentarás aprox 1% de tu peso corporal por mes (equivalente a 1 kg/mes)</label><br>
                </div>
            </div>
        </div>

        <div class="objetivo-container">
            <input type="radio" id="avanzado" name="nivelExperiencia" value="avanzado">
            <label for="avanzado"><span class="objetivo-titulo">Avanzado:</span> Para aquellos con un nivel avanzado de entrenamiento y que buscan maximizar el crecimiento muscular mientras minimizan la ganancia de grasa.</label><br>
            <div id="opcionesAvanzado" style="display: none;">
                <h2>¿CUÁNTOS KILOS QUIERES GANAR EN UN MES?</h2>
                <div class="objetivo-container">
                    <input type="radio" id="opcionAAvanzado" name="opcionAvanzado" value="opcionAAvanzado">
                    <label for="opcionAAvanzado"><span class="resaltado">OPCIÓN A:</span> Aumentarás aprox 0.5% de tu peso corporal por mes (equivalente a 500 g/mes)</label><br>
                </div>
            </div>
        </div>

        <button id="btnCalcularGanar" onclick="calcularGanar()">Calcular</button> <!-- Botón de calcular -->
        <div id="resultadoGanar"></div>
        <button onclick="retroceder()">Retroceder</button> <!-- Botón de retroceso -->
        <button onclick="copiarResultado()">Copiar resultado</button>
        <button id="btnContinuarGanar" onclick="https://clever23lozano.github.io/CALCULADORA-NUTRICIONAL-FIT/preguntadeactividadcardiovascular.html" disabled>Continuar</button>
    </div>

    <script>
        // Función para mostrar la sección correspondiente según el objetivo seleccionado
        function continuar() {
            const objetivoSeleccionado = document.querySelector('input[name="objetivo"]:checked').value;
            if (objetivoSeleccionado === "mantenerPeso") {
                document.getElementById('preguntaObjetivo').style.display = 'none';
                document.getElementById('explicacionMantenimiento').style.display = 'block';
            } else if (objetivoSeleccionado === "perderPeso") {
                document.getElementById('preguntaObjetivo').style.display = 'none';
                document.getElementById('opcionesDeficitCalorico').style.display = 'block';
            } else if (objetivoSeleccionado === "ganarPeso") {
                document.getElementById('preguntaObjetivo').style.display = 'none';
                document.getElementById('nivelExperiencia').style.display = 'block';
            }
            
            
            } 


        // Función para mostrar las opciones para principiantes cuando se selecciona el nivel de experiencia principiante
        document.getElementById('principiante').addEventListener('click', function() {
            document.getElementById('opcionesPrincipiante').style.display = 'block';
        });

        // Función para ocultar las opciones para principiantes cuando se selecciona otro nivel de experiencia
        document.getElementById('intermedio').addEventListener('click', function() {
            document.getElementById('opcionesPrincipiante').style.display = 'none';
        });

        document.getElementById('avanzado').addEventListener('click', function() {
            document.getElementById('opcionesPrincipiante').style.display = 'none';
        });

        document.getElementById('intermedio').addEventListener('click', function() {
            document.getElementById('opcionesIntermedio').style.display = 'block';
        });

        document.getElementById('principiante').addEventListener('click', function() {
            document.getElementById('opcionesIntermedio').style.display = 'none';
        });

        document.getElementById('avanzado').addEventListener('click', function() {
            document.getElementById('opcionesIntermedio').style.display = 'none';
        });

        document.getElementById('avanzado').addEventListener('click', function() {
            document.getElementById('opcionesAvanzado').style.display = 'block';
        });

        document.getElementById('principiante').addEventListener('click', function() {
            document.getElementById('opcionesAvanzado').style.display = 'none';
        });

        // Función para pegar contenido copiado en el campo de gasto calórico total
        function pegarContenidoCopiado() {
            // Verificar si hay algo copiado en el portapapeles
            navigator.clipboard.readText().then(contenidoCopiado => {
                // Pegar el contenido copiado en el campo de gasto calórico total
                document.getElementById('gastoCalorico').value = contenidoCopiado;
            }).catch(err => {
                console.error('Error al leer el portapapeles: ', err);
            });
        }

        // Función para calcular la pérdida de peso
function calcularPerder() {
    const gastoCaloricoInput = document.getElementById('gastoCalorico');
    const gastoCaloricoTotal = parseFloat(gastoCaloricoInput.value);

    // Verificar si el campo del gasto calórico está lleno
    if (isNaN(gastoCaloricoTotal) || gastoCaloricoTotal <= 0) {
        alert('Por favor, ingresa un valor válido para el gasto calórico total.');
        return; // Detener la ejecución de la función si el campo no está lleno
    }

    const deficitCalorico = parseInt(document.querySelector('input[name="deficitCalorico"]:checked').value);
    const nuevoTotalCalorias = gastoCaloricoTotal - deficitCalorico;
    const resultadoPerder = document.getElementById('resultadoPerder');
    resultadoPerder.innerHTML = 'Para perder ' + deficitCalorico + 'g por semana, debes consumir ' + nuevoTotalCalorias.toFixed(2) + ' calorías por día.';
    
    // Mostrar el mensaje de alerta
    alert('Copia el resultado del cálculo antes de continuar.');

    // Activar el botón de continuar de la sección de perder peso
    document.getElementById('btnContinuarPerder').disabled = false;

    // Redirigir a la siguiente página después de presionar el botón de continuar
    document.getElementById('btnContinuarPerder').onclick = function() {
        window.location.href = "https://clever23lozano.github.io/CALCULADORA-NUTRICIONAL-FIT/preguntadeactividadcardiovascular.html";
    };
}

// Función para calcular el mantenimiento del peso
function calcularMantenimiento() {
    const gastoCaloricoInput = document.getElementById('gastoCalorico');
    const gastoCaloricoTotal = parseFloat(gastoCaloricoInput.value);

    // Verificar si el campo del gasto calórico está lleno
    if (isNaN(gastoCaloricoTotal) || gastoCaloricoTotal <= 0) {
        alert('Por favor, ingresa un valor válido para el gasto calórico total.');
        return; // Detener la ejecución de la función si el campo no está lleno
    }

    const resultadoMantenimiento = document.getElementById('resultadoMantenimiento');
    resultadoMantenimiento.innerHTML = 'Para mantener tu peso, debes consumir ' + gastoCaloricoTotal.toFixed(2) + ' calorías por día.';
    
    // Mostrar el mensaje de alerta
    alert('Copia el resultado del cálculo antes de continuar.');

    // Activar el botón de continuar de la sección de mantenimiento
    document.getElementById('btnContinuarMantenimiento').disabled = false;

    // Redirigir a la siguiente página después de presionar el botón de continuar
    document.getElementById('btnContinuarMantenimiento').onclick = function() {
        window.location.href = "https://clever23lozano.github.io/CALCULADORA-NUTRICIONAL-FIT/preguntadeactividadcardiovascular.html";
    };
}

// Función para calcular el aumento de peso
function calcularGanar() {
    const gastoCaloricoInput = document.getElementById('gastoCalorico');
    const gastoCaloricoTotal = parseFloat(gastoCaloricoInput.value);

    // Verificar si el campo del gasto calórico está lleno
    if (isNaN(gastoCaloricoTotal) || gastoCaloricoTotal <= 0) {
        alert('Por favor, ingresa un valor válido para el gasto calórico total.');
        return; // Detener la ejecución de la función si el campo no está lleno
    }

    const nivelSeleccionado = document.querySelector('input[name="nivelExperiencia"]:checked').value;
    let cantidadKilosPorMes = 0;
    if (nivelSeleccionado === "principiante") {
        const opcionSeleccionada = document.querySelector('input[name="opcionPrincipiante"]:checked').value;
        if (opcionSeleccionada === "opcionAPrincipiante") {
            cantidadKilosPorMes = 1;
        } else if (opcionSeleccionada === "opcionBPrincipiante") {
            cantidadKilosPorMes = 1.5;
        }
    } else if (nivelSeleccionado === "intermedio") {
        const opcionSeleccionada = document.querySelector('input[name="opcionIntermedio"]:checked').value;
        if (opcionSeleccionada === "opcionAIntermedio") {
            cantidadKilosPorMes = 0.5;
        } else if (opcionSeleccionada === "opcionBIntermedio") {
            cantidadKilosPorMes = 1;
        }
    } else if (nivelSeleccionado === "avanzado") {
        const opcionSeleccionada = document.querySelector('input[name="opcionAvanzado"]:checked').value;
        if (opcionSeleccionada === "opcionAAvanzado") {
            cantidadKilosPorMes = 0.5;
        }
    }
    const aumentoCaloricoPorDia = (cantidadKilosPorMes * 7700) / 30; // Ajuste para obtener el aumento calórico por día
    const nuevoTotalCalorias = gastoCaloricoTotal + aumentoCaloricoPorDia;
    const resultadoGanar = document.getElementById('resultadoGanar');
    resultadoGanar.innerHTML = 'Para ganar ' + cantidadKilosPorMes + ' kg por mes, debes consumir ' + nuevoTotalCalorias.toFixed(2) + ' calorías por día.';
  
    // Mostrar el mensaje de alerta
    alert('Copia el resultado del cálculo antes de continuar.');

    // Activar el botón de continuar de la sección de ganar peso
    document.getElementById('btnContinuarGanar').disabled = false;

    // Redirigir a la siguiente página después de presionar el botón de continuar
    document.getElementById('btnContinuarGanar').onclick = function() {
        window.location.href = "https://clever23lozano.github.io/CALCULADORA-NUTRICIONAL-FIT/preguntadeactividadcardiovascular.html";
    };
}

// Función para copiar el resultado al portapapeles
function copiarResultado() {
    let contenido = '';

    // Verificar qué resultado está presente y copiar su contenido
    const resultadoPerder = document.getElementById('resultadoPerder');
    const resultadoMantenimiento = document.getElementById('resultadoMantenimiento');
    const resultadoGanar = document.getElementById('resultadoGanar');

    // Verificar si el resultado de bajar peso está visible y se ha seleccionado
    if (resultadoPerder.style.display !== 'none' && document.getElementById('opcionesDeficitCalorico').style.display !== 'none') {
        contenido = obtenerNumero(resultadoPerder.innerText);
    } 
    // Verificar si el resultado de mantenimiento está visible y se ha seleccionado
    else if (resultadoMantenimiento.style.display !== 'none' && document.getElementById('explicacionMantenimiento').style.display !== 'none') {
        contenido = obtenerNumero(resultadoMantenimiento.innerText);
    } 
    // Verificar si el resultado de ganar peso está visible y se ha seleccionado
    else if (resultadoGanar.style.display !== 'none' && document.getElementById('nivelExperiencia').style.display !== 'none') {
        contenido = obtenerNumero(resultadoGanar.innerText);
    }

    // Verificar si se encontró contenido para copiar
    if (contenido.trim() === '') {
        alert('No hay contenido para copiar.');
        return;
    }

    // Copiar el contenido al portapapeles
    navigator.clipboard.writeText(contenido)
        .then(() => {
            alert('¡Resultado copiado al portapapeles!');
        })
        .catch(err => {
            console.error('Error al copiar el resultado: ', err);
        });
}

function obtenerNumero(texto) {
    // Verificar si el texto contiene la palabra "consumir"
    if (texto.includes('consumir')) {
        // Utilizar una expresión regular para encontrar el número que sigue a "consumir"
        const numeroEncontrado = texto.match(/consumir (\d+(\.\d+)?) calorías/);
        // Si se encontró un número, devolverlo
        if (numeroEncontrado) {
            return numeroEncontrado[1];
        }
    } else if (texto.includes('Para perder')) {
        // Utilizar una expresión regular para encontrar el número después de "Para perder"
        const numeroEncontrado = texto.match(/Para perder (\d+(\.\d+)?)g/);
        // Si se encontró un número, devolverlo
        if (numeroEncontrado) {
            return numeroEncontrado[1];
        }
    } else if (texto.includes('Para ganar')) {
        // Utilizar una expresión regular para encontrar el número después de "Para ganar"
        const numeroEncontrado = texto.match(/Para ganar (\d+(\.\d+)?) kg/);
        // Si se encontró un número, devolverlo
        if (numeroEncontrado) {
            return numeroEncontrado[1];
        }
    }
    // Si no se encontró ningún número, devolver una cadena vacía
    return '';
} 
       
    // Función para retroceder a la selección del objetivo
function retroceder() {
    // Ocultar todas las secciones excepto la pregunta del objetivo
    document.getElementById('preguntaObjetivo').style.display = 'block';
    document.getElementById('explicacionMantenimiento').style.display = 'none';
    document.getElementById('opcionesDeficitCalorico').style.display = 'none';
    document.getElementById('nivelExperiencia').style.display = 'none';

    // Deshabilitar el botón de continuar de la sección de mantenimiento si existe
    const btnContinuarMantenimiento = document.getElementById('btnContinuarMantenimiento');
    if (btnContinuarMantenimiento) {
        btnContinuarMantenimiento.disabled = true;
        
    }
    
    // Deshabilitar el botón de continuar de la sección de pérdida de peso si existe
    const btnContinuarPerder = document.getElementById('btnContinuarPerder');
    if (btnContinuarPerder) {
        btnContinuarPerder.disabled = true;
    }
    
    // Deshabilitar el botón de continuar de la sección de ganar peso si existe
    const btnContinuarGanar = document.getElementById('btnContinuarGanar');
    if (btnContinuarGanar) {
        btnContinuarGanar.disabled = true;
    }
}
    </script>
</script>
</body>
</html>
